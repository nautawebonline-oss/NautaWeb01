
<!doctype html>
<html lang="pt-BR" class="dark">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Barbearia ‚Äî Demo Simples</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      // Tailwind dark mode via class
      try {
        const saved = localStorage.getItem('theme');
        if (saved === 'light') document.documentElement.classList.remove('dark');
      } catch (e) {}
    </script>
    <style>
      .glass { background: rgba(255,255,255,.06); backdrop-filter: blur(14px); -webkit-backdrop-filter: blur(14px); border: 1px solid rgba(255,255,255,.12); }
      .chip { @apply px-3 py-2 rounded-xl text-sm border; }
      .chip--active { @apply border-white/60 bg-white/10; }
      .btn { @apply inline-flex items-center justify-center px-4 py-2 rounded-xl font-medium; }
      .btn-primary { @apply bg-white/10 hover:bg-white/20 border border-white/20; }
      .btn-disabled { @apply opacity-50 cursor-not-allowed; }
    </style>
  </head>
  <body class="min-h-screen bg-gradient-to-b from-slate-950 via-slate-900 to-slate-950 text-white">
    <header class="max-w-5xl mx-auto px-5 pt-8 flex items-center justify-between">
      <div>
        <h1 class="text-2xl font-bold">Barbearia Visio</h1>
        <p class="text-white/60 text-sm">Demo HTML est√°tico para portf√≥lio</p>
      </div>
      <button id="themeToggle" class="btn btn-primary">üåô/‚òÄÔ∏è</button>
    </header>

    <main class="max-w-5xl mx-auto px-5 py-8 space-y-8">
      <section class="grid gap-6 md:grid-cols-3">
        <!-- Barbeiros -->
        <article class="glass rounded-2xl p-5 col-span-2">
          <h2 class="text-lg font-semibold">Escolha o profissional</h2>
          <div id="barbers" class="mt-4 grid gap-4 sm:grid-cols-3">
            <!-- Cards dos barbeiros gerados via JS -->
          </div>
        </article>

        <!-- Agenda -->
        <article class="glass rounded-2xl p-5">
          <h2 class="text-lg font-semibold">Escolha data</h2>
          <input id="dateInput" type="date" class="mt-3 w-full bg-white/5 border border-white/20 rounded-xl px-3 py-2" value="2025-08-16" min="2025-08-16" />
          <h3 class="text-sm mt-4 text-white/70">Hor√°rios</h3>
          <div id="times" class="mt-2 grid grid-cols-3 gap-2">
            <!-- Hor√°rios via JS -->
          </div>
        </article>
      </section>

      <section class="glass rounded-2xl p-5 grid gap-5 md:grid-cols-2">
        <div>
          <h2 class="text-lg font-semibold">Seus dados</h2>
          <label class="block text-sm text-white/70 mt-2">Nome</label>
          <input id="clientName" class="w-full bg-white/5 border border-white/20 rounded-xl px-3 py-2" placeholder="Seu nome" />
          <label class="block text-sm text-white/70 mt-3">Telefone</label>
          <input id="clientPhone" class="w-full bg-white/5 border border-white/20 rounded-xl px-3 py-2" placeholder="(DDD) 90000-0000" />
          <label class="block text-sm text-white/70 mt-3">Servi√ßo</label>
          <select id="service" class="w-full bg-white/5 border border-white/20 rounded-xl px-3 py-2">
            <option value="Corte simples">Corte simples ‚Äî R$ 40</option>
            <option value="Cabelo + Barba">Cabelo + Barba ‚Äî R$ 60</option>
            <option value="Degrad√™ + Barba">Degrad√™ + Barba ‚Äî R$ 70</option>
          </select>
        </div>
        <div class="flex flex-col justify-between">
          <div class="text-sm text-white/70">
            <p><span class="font-semibold text-white">Resumo:</span></p>
            <p id="summary" class="mt-2">Selecione um barbeiro, data e hor√°rio.</p>
          </div>
          <button id="confirmBtn" class="btn btn-primary mt-4">Confirmar e abrir WhatsApp</button>
        </div>
      </section>
    </main>

    <footer class="max-w-5xl mx-auto px-5 pb-10 text-center text-white/60 text-sm">
      ¬© <span id="year"></span> VisioWeb. Todos os direitos reservados.
    </footer>

    <script>
      const WHATSAPP_NUMBER = "5551999999999"; // altere para o n√∫mero real

      const barbers = [
        { id: 'joao',  name: 'Jo√£o Silva',  role: 'Cortes cl√°ssicos',     photo: 'assets/barbers/joao.svg' },
        { id: 'maria', name: 'Maria Costa', role: 'Degrad√™ e barba',      photo: 'assets/barbers/maria.svg' },
        { id: 'pedro', name: 'Pedro Alves', role: 'Navalha e acabamento', photo: 'assets/barbers/pedro.svg' },
      ];

      // slots ocupados de exemplo
      const busy = {
        'joao':  { '2025-08-16': ['10:30','11:00','14:00'] },
        'maria': { '2025-08-16': ['09:00','09:30','16:00'], '2025-08-17': ['10:00'] },
        'pedro': { '2025-08-16': ['13:00','13:30'] }
      };

      const allSlots = (() => {
        const slots = [];
        const start = 9 * 60;   // 09:00
        const end   = 18 * 60;  // 18:00
        for (let m = start; m <= end; m += 30) {
          const h = String(Math.floor(m/60)).padStart(2,'0');
          const min = String(m%60).padStart(2,'0');
          slots.push(`${h}:${min}`);
        }
        return slots;
      })();

      let selectedBarber = null;
      let selectedTime = null;

      const el = (sel) => document.querySelector(sel);
      const els = (sel) => Array.from(document.querySelectorAll(sel));

      function renderBarbers() {
        const wrap = el('#barbers');
        wrap.innerHTML = '';
        barbers.forEach(b => {
          const card = document.createElement('button');
          card.className = 'group relative overflow-hidden rounded-2xl border border-white/15 bg-white/5 hover:bg-white/10 transition';
          card.innerHTML = `
            <img src="${b.photo}" class="w-full h-40 object-cover" onerror="this.style.display='none'"/>
            <div class="p-4 text-left">
              <p class="font-semibold">${b.name}</p>
              <p class="text-white/70 text-sm">${b.role}</p>
            </div>
            <div class="absolute inset-0 ring-2 ring-transparent group-[.active]:ring-white/50 rounded-2xl pointer-events-none"></div>
          `;
          card.addEventListener('click', () => {
            selectedBarber = b.id;
            els('#barbers > button').forEach(btn => btn.classList.remove('active'));
            card.classList.add('active');
            selectedTime = null;
            renderTimes();
            updateSummary();
          });
          wrap.appendChild(card);
        });
      }

      function renderTimes() {
        const wrap = el('#times');
        wrap.innerHTML = '';
        const date = el('#dateInput').value;
        const occupied = (busy[selectedBarber]?.[date]) || [];
        allSlots.forEach(t => {
          const isDisabled = !selectedBarber || occupied.includes(t);
          const btn = document.createElement('button');
          btn.textContent = t;
          btn.className = 'px-3 py-2 rounded-xl border border-white/15 bg-white/5 text-sm hover:bg-white/10 transition ' +
                          (isDisabled ? 'opacity-40 cursor-not-allowed' : '');
          btn.disabled = isDisabled;
          btn.addEventListener('click', () => {
            els('#times > button').forEach(b => b.classList.remove('ring-1','ring-white/60'));
            btn.classList.add('ring-1','ring-white/60');
            selectedTime = t;
            updateSummary();
          });
          wrap.appendChild(btn);
        });
      }

      function updateSummary() {
        const date = el('#dateInput').value;
        const barberName = barbers.find(b => b.id === selectedBarber)?.name || '‚Äî';
        const svc = el('#service').value;
        const time = selectedTime || '‚Äî';
        el('#summary').textContent = `Profissional: ${barberName} | Data: ${date} | Hor√°rio: ${time} | Servi√ßo: ${svc}`;
      }

      function confirmWhats() {
        const name = el('#clientName').value.trim();
        const phone = el('#clientPhone').value.trim();
        const date = el('#dateInput').value;
        const svc  = el('#service').value;
        const barberName = barbers.find(b => b.id === selectedBarber)?.name;
        if (!barberName || !selectedTime || !name || !phone) {
          alert('Preencha nome, telefone, selecione um profissional e um hor√°rio.');
          return;
        }
        const msg = encodeURIComponent(
          `Ol√°, gostaria de confirmar meu agendamento:%0A` +
          `‚Ä¢ Nome: ${name}%0A` +
          `‚Ä¢ Telefone: ${phone}%0A` +
          `‚Ä¢ Profissional: ${barberName}%0A` +
          `‚Ä¢ Servi√ßo: ${svc}%0A` +
          `‚Ä¢ Data: ${date} √†s ${selectedTime}`
        );
        const url = `https://wa.me/${WHATSAPP_NUMBER}?text=${msg}`;
        window.open(url, '_blank');
      }

      document.getElementById('confirmBtn').addEventListener('click', confirmWhats);
      document.getElementById('dateInput').addEventListener('change', () => { selectedTime = null; renderTimes(); updateSummary(); });
      document.getElementById('service').addEventListener('change', updateSummary);

      document.getElementById('themeToggle').addEventListener('click', () => {
        const c = document.documentElement.classList;
        const isDark = c.contains('dark');
        if (isDark) { c.remove('dark'); localStorage.setItem('theme','light'); }
        else { c.add('dark'); localStorage.setItem('theme','dark'); }
      });

      document.getElementById('year').textContent = new Date().getFullYear();

      // boot
      renderBarbers();
      renderTimes();
      updateSummary();
    </script>
  </body>
</html>
